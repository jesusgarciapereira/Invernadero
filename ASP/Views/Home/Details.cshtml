@model DTO.clsTemperaturaConNombreInvernadero

@{
    ViewData["Title"] = "Detalles del Invernadero";
}

<!-- Estilos CSS dentro de la vista -->
<style>

    .celda-completa {
        border: 3px solid black;
        text-align: center;
    }

    .celda-progress {
        border-top: 3px solid black;
        border-bottom: 3px solid black;
        border-right: 3px solid black;
        text-align: center;
    }

    .celda-temperatura-humedad{
        border: 3px solid black; 
        text-align: center; 
        white-space: nowrap; 
        width: 1%;
    }

    .celda-numeros {
        border-top: 3px solid black;
        border-bottom: 3px solid black;
        text-align: center;
        white-space: nowrap;
        width: 1%;
    }

    .celda-vacia {
        border: 3px solid black;
        text-align: center;
        white-space: nowrap;
        width: 31%;
    }

</style>

<div class="container my-5">
    <h2 class="text-center mb-4">Temperaturas Registradas</h2>

    <div class="card shadow-sm p-4">
        <h3 class="text-center">@Model.NombreInvernadero</h3>
        <p class="text-center text-muted">@Model.Fecha.ToString("dd/MM/yyyy")</p>

        <div class="table-responsive">
            <table cellpadding="5" style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr>
                        <th></th>
                        <th colspan="2" class="celda-completa">08:00</th>
                        <th colspan="2" class="celda-completa">16:00</th>
                        <th colspan="2" class="celda-completa">24:00</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th class="celda-temperatura-humedad">Temperatura</th>

                        @if (Model.Temp1 != null)
                        {
                        <td class="celda-numeros">@($"{Model.Temp1}ºC")</td>
                            <td class="celda-progress">
                                <!-- Barra de progreso para la temperatura 08:00 -->
                                <div class="progress" style="height: 10px;">
                                    <div class="progress-bar bg-primary" style="width: @((Model.Temp1 * 2).ToString().Replace(',', '.'))%"></div>
                                </div>
                            </td>
                        }
                        else
                        {
                            <td colspan="2" class="celda-vacia">?</td>
                        }

                        

                        @if (Model.Temp2 != null)
                        {
                            <td class="celda-numeros">@($"{Model.Temp2}ºC")</td>
                            <td class="celda-progress">
                                <!-- Barra de progreso para la temperatura 16:00 -->
                                <div class="progress" style="height: 10px;">
                                    <div class="progress-bar bg-primary" style="width: @((Model.Temp2 * 2).ToString().Replace(',', '.'))%"></div>
                                </div>
                            </td>
                        }
                        else
                        {
                            <td colspan="2" class="celda-vacia">?</td>
                        }

                        

                        @if (Model.Temp3 != null)
                        {
                            <td class="celda-numeros">@($"{Model.Temp3}ºC")</td>
                            <td class="celda-progress">
                                <!-- Barra de progreso para la temperatura 24:00 -->
                                <div class="progress" style="height: 10px;">
                                    <div class="progress-bar bg-primary" style="width: @((Model.Temp3 * 2).ToString().Replace(',', '.'))%"></div>
                                </div>
                            </td>
                        }
                        else
                        {
                            <td colspan="2" class="celda-vacia">?</td>
                        }
                        
                    </tr>

                    <tr>
                        <th class="celda-temperatura-humedad">Humedad</th>

                        @if (Model.Humedad1 != null)
                        {
                            <td class="celda-numeros">@($"{Model.Humedad1}%")</td>
                            <td class="celda-progress">
                                <!-- Barra de progreso para la humedad 08:00 -->
                                <div class="progress" style="height: 10px;">
                                    <div class="progress-bar bg-info" style="width: @(Model.Humedad1)%"></div>
                                </div>
                            </td>
                        }
                        else
                        {
                            <td colspan="2" class="celda-vacia">?</td>
                        }
                       

                        @if (Model.Humedad2 != null)
                        {
                            <td class="celda-numeros">@($"{Model.Humedad2}%")</td>
                            <td class="celda-progress">
                                <!-- Barra de progreso para la humedad 16:00 -->
                                <div class="progress" style="height: 10px;">
                                    <div class="progress-bar bg-info" style="width: @(Model.Humedad2)%"></div>
                                </div>
                            </td>
                        }
                        else
                        {
                            <td colspan="2" class="celda-vacia">?</td>
                        }

                        

                        @if (Model.Humedad3 != null)
                        {
                            <td class="celda-numeros">@($"{Model.Humedad3}%")</td>
                            <td class="celda-progress">
                                <!-- Barra de progreso para la humedad 24:00 -->
                                <div class="progress" style="height: 10px;">
                                    <div class="progress-bar bg-info" style="width: @(Model.Humedad3)%"></div>
                                </div>
                            </td>
                        }
                        else
                        {
                            <td colspan="2" class="celda-vacia">?</td>
                        }
                        
                        
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <form asp-action="Index" method="post" class="mt-4 text-center">
        <input type="hidden" name="idInvernadero" value="@Model.IdInvernadero" />
        <input type="hidden" name="fecha" value="@Model.Fecha.ToString("yyyy-MM-dd")" />
        <button type="submit" class="btn btn-primary">Seleccionar otro Invernadero</button>
    </form>
</div>
















